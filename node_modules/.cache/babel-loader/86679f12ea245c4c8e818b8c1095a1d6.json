{"ast":null,"code":"const {\n  readFile\n} = require('./fs');\n\nmodule.exports = async function isModuleType(filepath) {\n  if (process.env.npm_package_json) {\n    // npm >= 7.0.0\n    const packageJson = JSON.parse(await readFile(process.env.npm_package_json, 'utf-8'));\n\n    if (packageJson.type === 'module') {\n      return true;\n    }\n  }\n\n  return process.env.npm_package_type === 'module' || filepath.endsWith('.mjs');\n};","map":{"version":3,"sources":["/home/rosiane/Projeto-completo/back/node_modules/knex/lib/migrations/util/is-module-type.js"],"names":["readFile","require","module","exports","isModuleType","filepath","process","env","npm_package_json","packageJson","JSON","parse","type","npm_package_type","endsWith"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAeC,OAAO,CAAC,MAAD,CAA5B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,eAAeC,YAAf,CAA4BC,QAA5B,EAAsC;AACrD,MAAIC,OAAO,CAACC,GAAR,CAAYC,gBAAhB,EAAkC;AAChC;AACA,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAClB,MAAMX,QAAQ,CAACM,OAAO,CAACC,GAAR,CAAYC,gBAAb,EAA+B,OAA/B,CADI,CAApB;;AAGA,QAAIC,WAAW,CAACG,IAAZ,KAAqB,QAAzB,EAAmC;AACjC,aAAO,IAAP;AACD;AACF;;AACD,SAAON,OAAO,CAACC,GAAR,CAAYM,gBAAZ,KAAiC,QAAjC,IAA6CR,QAAQ,CAACS,QAAT,CAAkB,MAAlB,CAApD;AACD,CAXD","sourcesContent":["const { readFile } = require('./fs');\n\nmodule.exports = async function isModuleType(filepath) {\n  if (process.env.npm_package_json) {\n    // npm >= 7.0.0\n    const packageJson = JSON.parse(\n      await readFile(process.env.npm_package_json, 'utf-8')\n    );\n    if (packageJson.type === 'module') {\n      return true;\n    }\n  }\n  return process.env.npm_package_type === 'module' || filepath.endsWith('.mjs');\n};\n"]},"metadata":{},"sourceType":"script"}