{"ast":null,"code":"const Transaction = require('../../execution/transaction');\n\nmodule.exports = class Redshift_Transaction extends Transaction {\n  begin(conn) {\n    if (this.isolationLevel) {\n      return this.query(conn, `BEGIN ISOLATION LEVEL ${this.isolationLevel};`);\n    }\n\n    return this.query(conn, 'BEGIN;');\n  }\n\n  savepoint(conn) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  release(conn, value) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  rollbackTo(conn, error) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n};","map":{"version":3,"sources":["/home/rosiane/Projeto-completo/back/node_modules/knex/lib/dialects/redshift/transaction.js"],"names":["Transaction","require","module","exports","Redshift_Transaction","begin","conn","isolationLevel","query","savepoint","trxClient","logger","Promise","resolve","release","value","rollbackTo","error"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,6BAAD,CAA3B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAMC,oBAAN,SAAmCJ,WAAnC,CAA+C;AAC9DK,EAAAA,KAAK,CAACC,IAAD,EAAO;AACV,QAAI,KAAKC,cAAT,EAAyB;AACvB,aAAO,KAAKC,KAAL,CAAWF,IAAX,EAAkB,yBAAwB,KAAKC,cAAe,GAA9D,CAAP;AACD;;AACD,WAAO,KAAKC,KAAL,CAAWF,IAAX,EAAiB,QAAjB,CAAP;AACD;;AAEDG,EAAAA,SAAS,CAACH,IAAD,EAAO;AACd,SAAKI,SAAL,CAAeC,MAAf,CAAsB,uCAAtB;AACA,WAAOC,OAAO,CAACC,OAAR,EAAP;AACD;;AAEDC,EAAAA,OAAO,CAACR,IAAD,EAAOS,KAAP,EAAc;AACnB,SAAKL,SAAL,CAAeC,MAAf,CAAsB,uCAAtB;AACA,WAAOC,OAAO,CAACC,OAAR,EAAP;AACD;;AAEDG,EAAAA,UAAU,CAACV,IAAD,EAAOW,KAAP,EAAc;AACtB,SAAKP,SAAL,CAAeC,MAAf,CAAsB,uCAAtB;AACA,WAAOC,OAAO,CAACC,OAAR,EAAP;AACD;;AArB6D,CAAhE","sourcesContent":["const Transaction = require('../../execution/transaction');\n\nmodule.exports = class Redshift_Transaction extends Transaction {\n  begin(conn) {\n    if (this.isolationLevel) {\n      return this.query(conn, `BEGIN ISOLATION LEVEL ${this.isolationLevel};`);\n    }\n    return this.query(conn, 'BEGIN;');\n  }\n\n  savepoint(conn) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  release(conn, value) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  rollbackTo(conn, error) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n};\n"]},"metadata":{},"sourceType":"script"}